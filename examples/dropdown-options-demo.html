<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dropdown Options Property Example</title>
    <script type="module" src="../dist/index.js"></script>
    <link rel="stylesheet" href="../dist/index.css">
    <style>
        body {
            font-family: system-ui, sans-serif;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        .example {
            margin: 2rem 0;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .example h3 {
            margin-top: 0;
        }
        .code {
            background: #f5f5f5;
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
            overflow-x: auto;
        }
        .error-example {
            border-color: #ff6b6b;
            background: #fff5f5;
        }
        .success-example {
            border-color: #51cf66;
            background: #f8fff9;
        }
    </style>
</head>
<body>
    <h1>Dropdown Options Property Examples</h1>
    <p>This page demonstrates the correct and incorrect ways to set the options property on the vg-dropdown component.</p>

    <div class="example error-example">
        <h3>❌ Incorrect: Trying to Set Options as HTML Attribute</h3>
        <p>This dropdown will <strong>NOT</strong> work because options cannot be set as an HTML attribute:</p>
        
        <vg-dropdown 
            id="broken-dropdown"
            label="Broken Dropdown" 
            placeholder="This won't work"
            options='[{"label":"Option 1","value":"opt1"}]'
        ></vg-dropdown>

        <div class="code">
            <pre>&lt;vg-dropdown 
    label="Broken Dropdown" 
    options='[{"label":"Option 1","value":"opt1"}]'&gt;
&lt;/vg-dropdown&gt;</pre>
        </div>
        <p><em>Notice: No options appear because the attribute is ignored.</em></p>
    </div>

    <div class="example success-example">
        <h3>✅ Correct: Setting Options via JavaScript Property</h3>
        <p>This dropdown works correctly because options are set as a JavaScript property:</p>
        
        <vg-dropdown 
            id="working-dropdown"
            label="Working Dropdown" 
            placeholder="Select an option"
        ></vg-dropdown>

        <div class="code">
            <pre>&lt;vg-dropdown id="working-dropdown"&gt;&lt;/vg-dropdown&gt;

&lt;script&gt;
const dropdown = document.getElementById('working-dropdown');
dropdown.options = [
    { label: 'Option 1', value: 'opt1', description: 'First choice' },
    { label: 'Option 2', value: 'opt2', description: 'Second choice' },
    { label: 'Option 3', value: 'opt3', description: 'Third choice' }
];
&lt;/script&gt;</pre>
        </div>
    </div>

    <div class="example success-example">
        <h3>✅ Dynamic Options Update</h3>
        <p>You can dynamically update options by setting a new array:</p>
        
        <vg-dropdown 
            id="dynamic-dropdown"
            label="Dynamic Dropdown" 
            placeholder="Click buttons to change options"
        ></vg-dropdown>

        <button onclick="setFruits()">Show Fruits</button>
        <button onclick="setColors()">Show Colors</button>
        <button onclick="setCountries()">Show Countries</button>

        <div class="code">
            <pre>function setFruits() {
    dropdown.options = [
        { label: 'Apple', value: 'apple' },
        { label: 'Banana', value: 'banana' },
        { label: 'Orange', value: 'orange' }
    ];
}</pre>
        </div>
    </div>

    <div class="example success-example">
        <h3>✅ Options with Descriptions and Disabled States</h3>
        <p>Options support descriptions and can be disabled:</p>
        
        <vg-dropdown 
            id="rich-dropdown"
            label="Rich Options Dropdown" 
            placeholder="Select a plan"
        ></vg-dropdown>

        <div class="code">
            <pre>dropdown.options = [
    { 
        label: 'Basic', 
        value: 'basic', 
        description: '$10/month - Essential features' 
    },
    { 
        label: 'Pro', 
        value: 'pro', 
        description: '$25/month - Advanced features' 
    },
    { 
        label: 'Enterprise', 
        value: 'enterprise', 
        description: '$100/month - All features',
        disabled: true 
    }
];</pre>
        </div>
    </div>

    <script>
        // Set options for the working dropdown
        const workingDropdown = document.getElementById('working-dropdown');
        workingDropdown.options = [
            { label: 'Option 1', value: 'opt1', description: 'First choice' },
            { label: 'Option 2', value: 'opt2', description: 'Second choice' },
            { label: 'Option 3', value: 'opt3', description: 'Third choice' }
        ];

        // Set options for the dynamic dropdown
        const dynamicDropdown = document.getElementById('dynamic-dropdown');
        
        function setFruits() {
            dynamicDropdown.options = [
                { label: 'Apple', value: 'apple', description: 'Red or green fruit' },
                { label: 'Banana', value: 'banana', description: 'Yellow tropical fruit' },
                { label: 'Orange', value: 'orange', description: 'Citrus fruit' }
            ];
            dynamicDropdown.value = '';
        }

        function setColors() {
            dynamicDropdown.options = [
                { label: 'Red', value: 'red', description: 'Primary color' },
                { label: 'Blue', value: 'blue', description: 'Primary color' },
                { label: 'Green', value: 'green', description: 'Secondary color' }
            ];
            dynamicDropdown.value = '';
        }

        function setCountries() {
            dynamicDropdown.options = [
                { label: 'United States', value: 'us', description: 'North America' },
                { label: 'United Kingdom', value: 'uk', description: 'Europe' },
                { label: 'Canada', value: 'ca', description: 'North America' }
            ];
            dynamicDropdown.value = '';
        }

        // Initialize with fruits
        setFruits();

        // Set options for the rich dropdown
        const richDropdown = document.getElementById('rich-dropdown');
        richDropdown.options = [
            { 
                label: 'Basic', 
                value: 'basic', 
                description: '$10/month - Essential features' 
            },
            { 
                label: 'Pro', 
                value: 'pro', 
                description: '$25/month - Advanced features' 
            },
            { 
                label: 'Enterprise', 
                value: 'enterprise', 
                description: '$100/month - All features',
                disabled: true 
            }
        ];

        // Add event listeners to show selected values
        [workingDropdown, dynamicDropdown, richDropdown].forEach(dropdown => {
            dropdown.addEventListener('vg-change', (event) => {
                console.log('Selected:', event.detail);
            });
        });
    </script>
</body>
</html>